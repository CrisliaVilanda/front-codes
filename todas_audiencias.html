<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agenda App</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm mb-4">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary" href="index.html"><i class="bi bi-calendar-event me-2"></i>
        Visualizar todas as audiências</a>
      <div class="ms-auto">
        <a class="btn btn-outline-secondary" href="index.html"><i class="bi bi-arrow-left-circle me-1"></i> Voltar</a>
      </div>
    </div>
  </nav>

  <aside id="appSidebar" class="app-sidebar collapsed" role="complementary" aria-label="Menu lateral do aplicativo"
    tabindex="0">
    <div class="brand">
      <i class="bi bi-calendar-event fs-4 text-primary" aria-hidden="true"></i>
      <span class="brand-text sidebar-label">Agenda</span>
      <button id="sidebarToggle" class="ms-auto" aria-expanded="false" aria-controls="appSidebar"
        title="Alternar menu"><i class="bi bi-list" aria-hidden="true"></i><span class="visually-hidden">Alternar
          menu</span></button>
    </div>
    <nav class="nav" aria-label="Navegação principal">
      <a href="index.html#minhaAgenda" class="nav-link sidebar-link" id="sidebarCalendar"><i
          class="bi bi-calendar2-event"></i><span class="sidebar-label"> Calendário</span></a>
      <a href="index.html#calendarGrid2" class="nav-link"><i class="bi bi-gavel"></i><span class="sidebar-label"> Minhas
          audiências</span></a>
      <a href="observacoes.html" class="nav-link"><i class="bi bi-pin-angle"></i><span class="sidebar-label">
          Observações</span></a>
      <a href="todas_audiencias.html" class="nav-link"><i class="bi bi-calendar2-event"></i><span class="sidebar-label">
          Ver todas as audiências</span></a>
      <a href="atividades_realizadas.html" class="nav-link active"><i class="bi bi-list-check"></i><span
          class="sidebar-label">
          Atividades realizadas</span></a>
    </nav>
  </aside>

  <main class="container mb-5">
    <div class="row">
      <div class="col-12">
        <div class="card shadow-sm border-0 editor-card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <h5 class="mb-0">Visualizar todas as audiências</h5>
            </div>
            <table class="table table-sm table-hover align-middle">
              <thead class="table-light small">
                <tr>
                  <th>Defensor</th>
                  <th>Processo</th>
                  <th>Data</th>
                  <th>Hora</th>
                  <th>Núcleo/vara</th>
                  <th>Espécie</th>
                  <th>status</th>
                </tr>
              </thead>
              <tbody id="audienciasListTbody">
                <tr>
                  <td colspan="4" class="text-muted small">Nenhum registro cadastrado.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </main>


  <!-- scripts -->
  <script>
    (function () {
      const sidebar = document.getElementById('appSidebar');
      const toggle = document.getElementById('sidebarToggle');
      const link = document.querySelector('.sidebar-link');
      const container = document.querySelector('.container');
      if (!sidebar) return;

      const mq = window.matchMedia('(min-width:768px)');
      const saved = localStorage.getItem('sidebarExpanded');
      const defaultExpanded = mq.matches;
      let expanded = saved === null ? defaultExpanded : saved === 'true';

      function applyState() {
        sidebar.classList.toggle('expanded', expanded);
        sidebar.classList.toggle('collapsed', !expanded);
        if (toggle) toggle.setAttribute('aria-expanded', String(!!expanded));
        if (container) container.classList.toggle('with-sidebar', expanded && window.innerWidth >= 768);
      }
      applyState();

      function setSidebarExpanded(v) {
        expanded = !!v;
        localStorage.setItem('sidebarExpanded', String(expanded));
        applyState();
      }

      if (toggle) {
        toggle.addEventListener('click', (ev) => { ev.preventDefault(); setSidebarExpanded(!expanded); });
        toggle.addEventListener('keydown', (ev) => { if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); setSidebarExpanded(!expanded); } });
      }

      if (link) link.addEventListener('click', (ev) => { link.classList.add('active'); setTimeout(() => link.classList.remove('active'), 800); });

      try {
        const target = document.getElementById('minhaAgenda');
        if (target) {
          const io = new IntersectionObserver(entries => {
            entries.forEach(en => link.classList.toggle('active', en.isIntersecting));
          }, { threshold: 0.35 });
          io.observe(target);
        }
      } catch (e) { /* noop */ }

      document.addEventListener('keydown', (ev) => { if (ev.key === 'Escape' && window.innerWidth < 768 && expanded) setSidebarExpanded(false); });
    })();
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
  <!-- <script src="js/script.js"></script> -->
  <script src="js/script_showaudiencias.js"></script>
</body>

</html>